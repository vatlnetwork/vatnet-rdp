<!doctype html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Spark Configuration</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="application-name" content="Spark View Config" />
<link rel="apple-touch-icon" href="rdp.png" />
<meta name="application-name" content="Spark View Config" />
<link rel="SHORTCUT ICON" href="rdp.ico" />
<link rel="icon" href="rdp32.png" sizes="32x32" />
<link rel="icon" href="rdp48.png" sizes="48x48" />
<link rel="stylesheet" href="hi5.css" />
<script type="text/javascript" src="resource.js"></script>
<script type="text/javascript" src="hi5core_min.js"></script>
<script type="text/javascript" src="hi5_min.js"></script>
<script type="text/javascript" src="config_min.js"></script>

<style type="text/css">
article {
	display: block;
	margin: 10px;
	padding: 10px;
	font: normal 13px Verdana, Arial, 'Bitstream Vera Sans', Helvetica,
		sans-serif;
	display: none;
}

header,h2 {
	padding: 5px;
	font-size: 110%;
	font-family: tahoma, verdana, sans-serif;
	border-bottom: 1px dotted #BBB;
}
</style>
</head>
<body>
<div id="info"></div>
	<article id="conf0">
		<header>
			Gateway:<input type="text" id="gateway" /> Password:<input type="password" id="gwPwd" autocomplete="off" /><br>
			This page can only be accessed from local computer. Set password and remoteManage=true in gateway.conf to enable remote access. 
		</header>
	</article>

	<article id="conf1">
		<header>
			Spark is running on <span id="sparkAddr"></span> <span id="expect"
				style="display: none">, expected on <span id="expectAddr"></span></span>
		</header>
	</article>
	<article style="display:block">
		<input type="button" value="Start Configuration" onclick="sparkConfig.getAll();" />
		<span id="message"></span>
	</article>
	<div class="tab_all" id="conf3" style="margin-left:20px;display:none">
		<div class="tab">
			<div class="tab_title">
				<span tabIndex="0">Gateway</span> <span tabIndex="1">Server</span>
				<span tabIndex="2">User</span><span tabIndex="3">Symlink</span><span tabIndex="4">Session</span>
				<span tabIndex="5">Server Group</span><span tabIndex="6">User Group</span>
			</div>
		</div>
		<div class="tab_body">
			<div>
				<header>
					Gateway Configuration (Saved in gateway.conf)<input type="button"
						name="saveGateway" value="Save" onclick="sparkConfig.saveGateway();"/>
				</header>
				<form action="" id="frmGateway">
					<table>
						<tr>
							<td>SSL (https and wss)</td>
							<td><input type="checkbox" name="ssl" /></td>
						</tr>
						<tr>
							<td>Port(Default is 80 or 443(SSL))</td>
							<td><input type="number" name="port" placeholder="80 or 443" /></td>
						</tr>
						<tr>
							<td>Binding Address</td>
							<td><input type="text" name="bindAddr" /></td>
						</tr>
						<tr>
							<td>Network Level Authentication</td>
							<td><input type="checkbox" name="credSSP" /></td>
						</tr>
						<tr>
							<td>Path of License File</td>
							<td><input type="text" name="license" /></td>
						</tr>
                        <tr>
                            <td>Upload License File</td>
                            <td><input type="file" name="licenseFile" id="licenseFile" /></td>
                        </tr>
						<tr>
							<td>HTML Root Directory</td>
							<td><input type="text" name="html" /></td>
						</tr>
						<tr>
							<td>Default Web Page</td>
							<td><input type="text" name="directoryIndex" placeholder="rdp.html;index.html" /></td>
						</tr>
						<tr>
							<td>Path of Log File</td>
							<td><input type="text" name="logfile" /></td>
						</tr>
						<tr>
							<td>Size of Single Log File(bytes)</td>
							<td><input type="number" name="maxbytes" placeholder="30720000" /></td>
						</tr>
						<tr>
							<td>Maximum number of Log Files</td>
							<td><input type="number" name="maxfiles" placeholder="99" /></td>
						</tr>
						<tr>
							<td>Log HTTP header</td>
							<td><input type="checkbox" name="logHttpHeader" checked="checked"/></td>
						</tr>

						<tr>
							<td>PDF Converter</td>
							<td><input type="text" name="converter"
								value="C:\\Program Files\\gs\\gs9.05\\bin\\gswin64c.exe" /></td>
						</tr>
						<tr>
							<td>PDF Converter Arguments</td>
							<td><input type="text" name="arguments"
								value="-dBATCH -dNOPAUSE -dUseCIEColor -dPDFSETTINGS=/printer -sDEVICE=pdfwrite -q -sOutputFile=%1 %2" /></td>
						</tr>
						<tr>
							<td>Plugin Class</td>
							<td><input type="text" name="arguments" /></td>
						</tr>
						<tr>
							<td>Administration Password (for reporting API etc)</td>
							<td><input type="password" name="password" autocomplete="off" /></td>
						</tr>
						<tr>
							<td>Enable Remote Management/Configuration</td>
							<td><input type="checkbox" name="remoteManage" /></td>
						</tr>
						<tr>
							<td>Temporary directory (for downloading/uploading)</td>
							<td><input type="text" name="tmpdir" /></td>
						</tr>
						<tr>
							<td>Days of temporary files are kept</td>
							<td><input type="number" name="keepDays" value="3" /></td>
						</tr>
						<tr>
							<td>RD Web Access Webfeed</td>
							<td><input type="text" name="webfeed" /></td>
						</tr>
						<tr>
							<td>Session Recording</td>
							<td><select name="recording">
									<option value="0">No Recording</option>
									<option value="1">Recording Graphic only</option>
							</select></td>
						</tr>
						<tr>
							<td>Directory for saving session recordings</td>
							<td><input type="text" name="recdir" /></td>
						</tr>
						<tr>
							<td>Warn user about session recording</td>
							<td><input type="checkbox" name="recwarning" /></td>
						</tr>
						<tr>
							<td>Access Not-In-List computers after logged in</td>
							<td><input type="checkbox" name="accessNotInList" /></td>
						</tr>
						<tr>
							<td>Name of Redirected Drive</td>
							<td><input type="text" name="disk" placeholder="Storage" /></td>
						</tr>
						<tr>
							<td>Name of Redirected Printer</td>
							<td><input type="text" name="printer" placeholder="Remote Printer from Client"/></td>
						</tr>

						<tr>
							<td>Connections are queued(Backlog)</td>
							<td><input type="number" name="backlog" value="50" /></td>
						</tr>
						<tr>
							<td>User Definition File</td>
							<td><input type="text" name="user" placeholder="path of users.json"/></td>
						</tr>
						<tr>
							<td>Server Definition File</td>
							<td><input type="text" name="server" placeholder="path of servers.json"/></td>
						</tr>
						<tr>
							<td>Gateway Web Address</td>
							<td><input type="text" name="webAddress"/></td>
						</tr>
						<tr>
							<td>Host Name of Client User</td>
							<td><input type="text" name="clientHost" placeholder="Customize client host name"/></td>
						</tr>
						<tr>
							<td>Rdp Session Performance Flags</td>
							<td><input type="text" name="performanceflags" placeholder="Customize client host name"/></td>
						</tr>
						<tr>
							<td>RemoteFX</td>
							<td><input type="checkbox" name="remotefx"/></td>
						</tr>
						<tr>
							<td>DNS Lookups</td>
							<td><input type="checkbox" name="enableLookups"/></td>
						</tr>
						<tr>
							<td>Session cache time (minutes, 0 = disable session cache)</td>
							<td><input type="number" name="maxCacheTime"/></td>
						</tr>
						<tr>
							<td>Email SMTP Host</td>
							<td><input type="text" name="mail.smtp.host"/></td>
						</tr>
						<tr>
							<td>Email SMTP Port</td>
							<td><input type="number" name="mail.smtp.port"/></td>
						</tr>
						<tr>
							<td>Email User</td>
							<td><input type="text" name="mail.user"/></td>
						</tr>
						<tr>
							<td>Email Password</td>
							<td><input type="password" name="mail.password" autocomplete="off"/></td>
						</tr>
						<tr>
							<td>Email From</td>
							<td><input type="text" name="mail.from"/></td>
						</tr>
						<tr>
							<td>Email to</td>
							<td><input type="text" name="mail.to"/></td>
						</tr>
						<tr>
							<td>Email SMTP Authentication</td>
							<td><input type="checkbox" name="mail.smtp.auth"/></td>
						</tr>
						<tr>
							<td>Email TLS</td>
							<td><input type="checkbox" name="mail.smtp.starttls.enable"/></td>
						</tr>
						<tr>
							<td>Symlink</td>
							<td><input type="text" name="symlink" placeholder="path of symlink file"/></td>
						</tr>
						<tr>
							<td>License Usage Alert (Email)</td>
							<td><input type="text" name="licenseAlert" placeholder="<1, percentage; >1, numbers" size="23"/></td>
						</tr>
                        <tr>
                            <td>Interval of thumbnail (milliseconds)</td>
                            <td><input type="text" name="thumbnail.interval" placeholder="Interval for sending thumbnail"/></td>
                        </tr>
                        <tr>
                            <td>Width of thumbnail</td>
                            <td><input type="text" name="thumbnail.width" placeholder="Width of thumbnail"/></td>
                        </tr>
                        <tr>
                            <td>Copy timeout (milliseconds)</td>
                            <td><input type="text" name="copyTimeout" value="3000"/></td>
                        </tr>
						<tr>
							<td>Path of Key Store</td>
							<td><input type="text" name="keyStore"/></td>
						</tr>
						<tr>
							<td>Password of Key Store</td>
							<td><input type="text" name="keyStorePassword"/></td>
						</tr>
						<tr>
							<td>Password Encryption</td>
							<td><input type="checkbox" name="passwordEncryptd"/></td>
						</tr>
						<tr>
							<td>Remote Assistance</td>
							<td><input type="checkbox" name="assistance"/></td>
						</tr>
						<tr>
							<td>SSH</td>
							<td><input type="checkbox" name="ssh"/></td>
						</tr>
						<tr>
							<td>TELNET</td>
							<td><input type="checkbox" name="telnet"/></td>
						</tr>
						<tr>
							<td>Disable Burst License</td>
							<td><input type="checkbox" name="disableBurstLicense"/></td>
						</tr>
						<tr>
							<td>License status</td>
							<td><textarea type="text" name="licenseStatus" rows="8" readonly></textarea></td>
						</tr>
					</table>
				</form>
			</div>
			<div>
				<header>
					Server (RDP Host) Configuration (Saved in servers.json)
					<input type="button" name="addServer" value="Add" id="servers.add" onclick="sparkConfig.editServer();"/>
					<input type="button" name="refresh" value="Refresh" onclick="sparkConfig.refreshServers();"/> 
				</header>
				<div id ="servers" class="data-source">
					<label for="servers.type">Type</label> 
					<select name="type" id="servers.type">
							<option value="NORMALLIST">Normal List</option>
							<option value="WHITELIST">White List</option>
							<option value="BLACKLIST">Black List</option>
					</select>
					<label for="servers.display">Visible</label> <input type="checkbox" name="display" id="servers.display" checked />
					<table id="servers.rows" class="table">
						<thead>
							<tr>
							<th scope="col">ID</th>
							<th scope="col">Display Name</th>
							<th scope="col">Server</th>
							<th scope="col">RemoteApp</th>
							<th scope="col">Start Program on Connection</th>
							<th scope="col">Action</th>
							</tr>
						</thead>
						<tbody>
							<tr style="cursor: pointer">
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td><img src="edit.png" name="view" title="Edit"><img src="del.png" name="remove" title="Delete"></td>
							</tr>
						</tbody>
					</table>
					<form name="server" id="servers.view" style="display:none" onsubmit="return sparkConfig.saveServer();">
					  <table class="hi5_dialog" style="width:100%">
					    <tr><td colspan="2"><input type="submit" value="Save"/></td></tr>
						<tr><td>ID</td><td><input type="text" name="id" id="server.id" required/>
						<tr><td>Display Name</td><td><input type="text" name="displayName" id="server.displayName" required/></td></tr>
						
						<tr><td>Server</td><td><input type="text" name="server" id="server.server"/></td></tr>
						<tr><td>icon</td><td><input type="text" name="icon"/></td></tr>
						<tr>
								<td>protocols</td>
								<td>
									<input type="checkbox" name="isRDP" checked/>RDP
									<input type="checkbox" name="isVNC" />VNC
									<input type="checkbox" name="isSSH" />SSH
									<input type="checkbox" name="isTELNET" />TELNET
								</td>
						</tr>
						<tr><td colspan="2">
							<div class="tab_all" id="conf_server" style="margin-left:20px;">
								<div class="tab">
									<div class="tab_title">
										<span tabIndex="0">RDP</span> <span tabIndex="1">VNC</span>
										<span tabIndex="2">SSH</span><span tabIndex="3">TELNET</span>
									</div>
								</div>
								<div class="tab_body">	
									<div>
										<table>
											<tr><td>Port</td><td><input type="number" name="port" id="server.port" value="3389"/></td></tr>
											<tr><td>User</td><td><input type="text" name="username"/></td></tr>
											<tr><td>Password</td><td><input type="password" name="password" autocomplete="off"/></td></tr>
											<tr><td>Domain</td><td><input type="text" name="domain"/></td></tr>
											<tr><td></td><td><input type="checkbox" name="console" />Console session</td></tr>
											<tr><td></td><td><input type="checkbox" name="legacyMode" />VirtualBox RDP or xrdp</td></tr>
											<tr><td>Keyboard Layout</td><td><input type="number" name="keyboard" id="server.keyboard"/></td></tr>
											<tr><td>Color Depth</td>
													<td>
														<select name="color" id="colorOpt">
															<option value="8">256</option>
															<option value="16" selected>High color (16 bit)</option>
															<option value="24">True color (24 bit)</option>
															<option value="32">Highest Quality (32 bit)</option>
														</select>
													</td>
											</tr>
											<tr><td>Minimum Width</td><td><input type="number" name="minWidth"/></td></tr>
											<tr><td>Minimum Height</td><td><input type="number" name="minHeight"/></td></tr>
											<tr>
												<td>Start Program on Connection</td>
												<td><input type="text" name="command" /></td>
											</tr>
											<tr>
												<td>Start in following folder</td>
												<td><input type="text" name="directory" /></td>
											</tr>
											<tr>
												<td>RemoteApp Exe or file</td>
												<td><input type="text" name="remoteProgram" /></td>
											</tr>
											<tr>
												<td>RemoteApp Arguments</td>
												<td><input type="text" name="remoteArgs" /></td>
											</tr>
											<tr>
												<td>Wake On Lan Mac Address</td>
												<td><input type="text" name="mac" /></td>
											</tr>
											<tr>
												<td>Wake On Lan Broadcast IP (192.168.0.255, 255.255.255.255)</td>
												<td><input type="text" name="macIP" /></td>
											</tr>
											<tr><td>Clipboard Redirection</td><td><input type="checkbox" name="mapClipboard"/></td></tr>
											<tr><td>Sound Redirection</td>
													<td>
														<select name="playSound" id="server.playSound">
															<option value="0">Play on this computer</option>
															<option value="1">Do not play</option>
															<option value="2">Play on remote computer</option>
														</select>
													</td>
											</tr>
											<tr>
													<td>Audio Recording</td><td><input type="checkbox" name="audioRecord"/></td>
											</tr>
											<tr>
													<td>RDP 6.1 Decompression</td><td><input type="checkbox" name="decompressingRDP61"/></td>
											</tr>
											<tr><td>Printer Redirection</td><td><input type="checkbox" name="mapPrinter"/></td></tr>
											<tr><td>Session Recording</td>
													<td>
														<select name="sessionRecord">
															<option value="0">No Recording</option>
															<option value="1">Recording Graphic Only</option>
														</select>
													</td>
											</tr>
											<tr><td>Drive Redirection</td><td><input type="checkbox" name="mapDisk" id="server.mapDisk"/></td></tr>
											<tr>
													<td rowspan="3">Drive 0</td>
													<td >Dos Name&nbsp;<input type="text" name="dosName0" onchange="document.getElementById('server.mapDisk').checked=true;" /></td></tr>
											<tr>
													<td>Path&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;<input type="text" name="devicePath0" /></td>
											</tr>
											<tr>
													<td>Actions &nbsp; &nbsp; <input type="checkbox" name="actUpload0" checked/>Upload<input type="checkbox" value="Download" name="actDownload0" checked/>
																Download<input type="checkbox" name="actRedirect0" checked/>Redirect</td>
											</tr>
											<tr>
													<td rowspan="3">Drive 1</td>
													<td>Dos Name&nbsp;<input type="text" name="dosName1" /></td>
											</tr>
											<tr>
													<td>Path&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;<input type="text" name="devicePath1" /></td>
											</tr>
											<tr>
													<td>Actions &nbsp; &nbsp; <input type="checkbox" name="actRedirect1" checked/>Redirect</td>
											</tr>
											<tr>
													<td rowspan="3">Drive 2</td><td>Dos Name&nbsp;<input type="text" name="dosName2"/></td>
											</tr>
											<tr>
													<td>Path&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;<input type="text" name="devicePath2"/></td>
											</tr>
											<tr>
													<td>Actions &nbsp; &nbsp; <input type="checkbox" name="actRedirect2" checked/>Redirect</td>
											</tr>
											<tr>
													<td>Performance Flags</td><td><input type="number" name="performanceflags"/></td>
											</tr>
											<tr>
													<td>Network Level Authentication(credSSP)</td>
													<td>
														<select name="credSSP"><option value="0">false</option>
															<option value="1">true</option>
															<option value="2">auto</option>
														</select>
													</td>
											</tr>
											<tr>
													<td>RemoteFX(32 bit color only)</td><td><input type="checkbox" name="remotefx" id="rfxOpt"/></td>
											</tr>
											<tr><td>Smart Card Redirection</td><td><input type="checkbox" name="smartCard"/></td></tr>
											<tr><td>Camera Redirection</td><td><input type="checkbox" name="mapCamera"/></td></tr>
											<!-- <tr><td>USB Redirection</td><td><input type="checkbox" name="mapUSB"/></td></tr> -->
										</table>
									</div>
									<div>
										<table width="100%">
											<tr>
													<td>Port</td><td><input type="number" name="vnc.port" id="server.vnc.port" value="5900"/></td>
											</tr>
											<tr>
													<td>Password</td><td><input type="password" name="vnc.password" autocomplete="off"/></td></tr>
											<tr>
										     <td rowspan="4">Encoding</td>
										     <td ><input type="radio" name="encoding" value="16" checked />ZRLE</td>
										  </tr>
											<tr> 
										     <td><input type="radio" name="encoding" value="7"/>Raw</td>
										  </tr>
											<tr>
										     <td><input type="radio" name="encoding" value="0" />Tight </td>
											</tr>
											<tr>
												<td>
											      JPEG Quality 
                            <select name="quality" style="width:40px">
                            	<option value= "1">1 (Lowest quality)</option><option value="2">2</option>
                              <option value="3">3</option><option value="4">4</option><option value="5"  selected="selected">5</option>
                              <option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9 (Best quality)</option> 
                            </select>
                            ZIP/Tight Compression
                            <select name="compression" style="width:40px">
                            	<option value= "1">1(Little compression)</option><option value="2">2</option>
                              <option value="3">3</option><option value="4">4</option><option value="5">5</option>
                              <option value="6" selected="selected">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option> 
                            </select>
                        </td>
                      </tr>
				             	<tr>
				             			<td>Use CopyRect encoding</td><td ><input type="checkbox" name="UseCopyRect" id="UseCopyRect" checked/></td>
				             	</tr>
											<tr>
              						<td>Colors</td>
						    					<td><input type="radio" name="vnc.color" value="32" checked />Full color <input type="radio" name="vnc.color" value="8"/>256 color</td></tr>				
											<tr>
													<td>Share the server</td><td><input type="checkbox" name="share" checked/></td>
											</tr>
											<tr>
													<td>Clipboard redirection</td><td><input type="checkbox" name="vnc.mapClipboard" checked></td>
											</tr>
											<tr>
												<td>Session Recording</td>
												<td><select name="vnc.sessionRecord">
														<option value="0">No Recording</option>
														<option value="1">Recording Graphic only</option>
												</select></td>
											</tr>
										</table>
									</div>
									<div>
										<table width="100%">
											<tr>
												<td>Port</td><td ><input type="number" name="ssh.port" id="server.ssh.port" value="22"/></td>
											</tr>
											<tr>
													<td>User</td><td><input type="text" name="ssh.username"/></td>
											</tr>
											<tr>	
													<td>Password</td><td><input type="password" name="ssh.password" autocomplete="off"/></td>
											</tr>
											<tr>	
													<td>Font Size</td><td><input type="number" name="ssh.fontSize" id="ssh.fontsize" value="13"/>(pixels)</td>
											</tr>
											<tr> 
													<td>Clipboard</td><td><input type="checkbox" name="ssh.mapClipboard" checked/></td>
											</tr>
												<tr>
												<td>Session Recording</td>
												<td><select name="ssh.sessionRecord">
														<option value="0">No Recording</option>
														<option value="1">Recording Graphic only</option>
												</select></td>
											</tr>
											<tr>
												<td>Key File</td><td><input type="text" name="ssh.keyfile"/></td>
											</tr>
											<tr>
												<td>Password of Key File</td><td><input type="text" name="ssh.keyfilePwd"/></td>
											</tr>
											<tr>
												<td>Terminal Type</td><td><input type="text" name="ssh.terminalType" value="xterm"/></td>
											</tr>
									</table>	
									</div>
									<div>
										<table width="100%">
											<tr>
													<td>Port</td><td ><input type="number" name="telnet.port" id="server.telnet.port" value="23"/></td>
											</tr>
											<tr>	
													<td>Font Size</td><td><input type="number" name="telnet.fontSize" id="telnet.fontsize" value="13"/>(pixels)</td>
											</tr>
											<tr>								
													<td>Clipboard</td><td class="groupborder" ><input type="checkbox" name="telnet.mapClipboard" checked/></td>
											</tr>
											<tr>
												<td>Session Recording</td>
												<td><select name="telnet.sessionRecord">
														<option value="0">No Recording</option>
														<option value="1">Recording Graphic only</option>
												</select></td>
											</tr>
								</table>	
									</div>
								</div>
							</div>
							</td>
						</tr>
						
						
						
					  </table>
					</form>
				</div>
			</div>
			<div>
				<header>
					User Configuration (Saved in users.json)
					<input type="button" name="addUser" value="Add" id="users.add" onclick="sparkConfig.editUser();"/>
					<input type="button" name="refresh" value="Refresh" onclick="sparkConfig.refreshUsers();"/>
					<br><input type="button" name="importUser" value="Import Active Directory Users" id="users.import" onclick="sparkConfig.importUsers();"/>
					<input id="adUser" placeholder="User Name" ><input id="adPwd" type="password" placeholder="Password" autocomplete="off"><input id="adDomain" placeholder="Domain" >
					<input id="adOU" placeholder="Organizational Unit" ><input id="adServer" placeholder="Domain Server" ><input id="secProtocol" placeholder="AD Security: ssl/tls" ><br>
					<span><small>Servers for imported users:</small></span><input id="adServers" placeholder="serverId1,serverId2, ...">
				</header>
				<table id="users.rows" class="table">
					<thead>
						<tr>
							<th scope="col">Name</th>
							<th scope="col">Password</th>
							<th scope="col">Servers</th>
							<th scope="col">Domain User</th>
							<th scope="col">Domain Server</th>
							<th scope="col">Transfer Credential</th>
							<th scope="col">Action</th>
						</tr>
					</thead>
					<tbody>
						<tr style="cursor: pointer">
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
                            <td></td>
							<td><img src="edit.png" name="view" title="Edit"><img
								src="del.png" name="remove" title="Delete"></td>
						</tr>
					</tbody>
				</table>
				<form name="user" id="users.view" style="display: none" onsubmit="return sparkConfig.saveUser();">
					<table class="hi5_dialog" style="width:100%">
						<tr>
							<td colspan="2"><input type="submit" value="Save"/></td>
						</tr>
						<tr>
							<td>Name</td>
							<td><input type="text" name="name" required/>
						<tr>
							<td>Password</td>
							<td><input type="password" name="password" required autocomplete="off"/><br>*Set password as *** for domain user</td>
						</tr>
						<tr>
							<td>Servers</td>
							<td><input type="text" name="servers" size="40" id="user.server"/><br/>Seperated by "," For example: server1,server2]<br>Use Ctrl/Shift + mouse to select multi servers</td>
						</tr>
						<tr>
							<td>Domain user</td>
							<td><input type="checkbox" name="isDomainUser" /></td>
						</tr>
                        <tr>
                            <td>Domain Server</td>
                            <td><input type="text" name="domainServer" /></td>
                        </tr>
                        <tr>
                            <td>Transfer Credential to Connection</td>
                            <td><input type="checkbox" name="transferCredential"/>*Always true if this is domain user</td>
                        </tr>
					</table>
				</form>
			</div>
			<div>
				<header>
					Symlink Configuration (Saved in symlink.json)
					<input type="button" name="addSymlink" value="Add" id="symlinks.add" onclick="sparkConfig.editSymlink();"/>
					<input type="button" name="refresh" value="Refresh" onclick="sparkConfig.refreshSymlinks();"/>
				</header>
				<table id="symlinks.rows" class="table">
					<thead>
						<tr>
							<th scope="col">ID</th>
							<th scope="col">Resource (Server)</th>
							<th scope="col">Password</th>
							<th scope="col">Valid From</th>
							<th scope="col">Valid Time</th>
							<th scope="col">Valid To</th>
							<th scope="col">Action</th>
						</tr>
					</thead>
					<tbody>
						<tr style="cursor: pointer">
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td><img src="edit.png" name="view" title="Edit"><img
								src="del.png" name="remove" title="Delete"></td>
						</tr>
					</tbody>
				</table>
				<form name="symlink" id="symlinks.view" style="display: none" onsubmit="return sparkConfig.saveSymlink();">
					<table class="hi5_dialog" style="width:100%">
						<tr>
							<td colspan="2"><input type="submit" value="Save"/></td>
						</tr>
						<tr>
							<td>ID</td>
							<td><input type="text" id="symlink.id" name="id" size="36" required/>
						<tr>
							<td>Password</td>
							<td><input type="password" id="symlink.password" name="password" autocomplete="off"/></td>
						</tr>
						<tr>
							<td>Resource (Server)</td>
							<td><input type="text" name="resourceId" id="symlink.server" /></td>
						</tr>
						<tr>
							<td>Valid From</td>
							<td><input type="datetime" name="validFrom" />E.g. 2013-12-31 30:00</td>
						</tr>
						<tr>
							<td>Valid Time</td>
							<td><input type="text" name="validTime" />E.g. 2d (y: year; M: month; d: day h: hour; m: minute)</td>
						</tr>
						<tr>
							<td>or Valid To</td>
							<td><input type="datetime" name="validTo" />E.g. 2013-12-31 30:00</td>
						</tr>
						<tr>
							<td>Prameters for target</td>
							<td><input type="text" name="parameters" />E.g. user=userName&amp;pwd=password&amp;domain=local</td>
						</tr>
						<tr>
							<td>Comment</td>
							<td><input type="text" name="comment" /></td>
						</tr>
						<tr>
							<td colspan="2"><a id="symlinkAccess" target="_blank">Access link</a></td>
						</tr>
					</table>
				</form>
			</div>
			<div>
				<header>
					Sessions <input type="button" name="refresh" value="Refresh" onclick="sparkConfig.refreshSessions();"/>
					<span>Total: </span><span id="sessions.size"></span>
				</header>
				<table id="sessions.rows" class="table">
					<thead>
						<tr>
							<th scope="col">Id</th>
							<th scope="col">Server</th>
							<th scope="col">Client IP</th>
							<th scope="col">Browser</th>
							<th scope="col">Start Time</th>
							<th scope="col">NumericId</th>
							<th scope="col">User</th>
							<th scope="col">Domain</th>
							<th scope="col">Join</th>
							<th scope="col">Protocol</th>
							<th scope="col">Symlink</th>
							<th scope="col">Thumbnail</th>
							<th scope="col">Port</th>
							<th scope="col">Action</th>
						</tr>
					</thead>
					<tbody>
						<tr style="cursor: pointer">
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td><img src="edit.png" name="view" title="View"><img
								src="del.png" name="remove" title="Terminate"></td>
						</tr>
					</tbody>
				</table>
				<div><b>JavaScript console command:</b><br>
				sparkConfig.notify('my message'); //send message to all.<br>
				sparkConfig.notify('my message', [123456789, 123456788]); //send message to session 123456789 and 123456788.<br>
				</div>
			</div>

			<div>
				<header>
					Server Group Configuration (Saved in servergroups.json)
					<input type="button" name="addServerGroup" value="Add" id="serverGroups.add" onclick="sparkConfig.editServerGroup();"/>
					<input type="button" name="refresh" value="Refresh" onclick="sparkConfig.refreshServerGroups();"/>
				</header>
				<table id="serverGroups.rows" class="table">
					<thead>
						<tr>
							<th scope="col">Name</th>
							<th scope="col">Servers</th>
							<th scope="col">Action</th>
						</tr>
					</thead>
					<tbody>
						<tr style="cursor: pointer">
							<td></td>
							<td></td>
							<td><img src="edit.png" name="view" title="Edit"><img
								src="del.png" name="remove" title="Delete"></td>
						</tr>
					</tbody>
				</table>
				<form name="serverGroup" id="serverGroups.view" style="display: none" onsubmit="return sparkConfig.saveServerGroup();">
					<table class="hi5_dialog" style="width:100%">
						<tr>
							<td colspan="2"><input type="submit" value="Save"/></td>
						</tr>
						<tr>
							<td>Name</td>
							<td><input type="text" id="serverGroup.name" name="name" size="36" required/></td>
						</tr>
						<tr>
							<td>Servers</td>
							<td><input type="text" id="serverGroup.server" name="servers"/></td>
						</tr>
					</table>
				</form>
			</div>

			<div>
				<header>
					User Group Configuration (Saved in usergroups.json)
					<input type="button" name="addUserGroup" value="Add" id="userGroups.add" onclick="sparkConfig.editUserGroup();"/>
					<input type="button" name="refresh" value="Refresh" onclick="sparkConfig.refreshUserGroups();"/>
				</header>
				<table id="userGroups.rows" class="table">
					<thead>
						<tr>
							<th scope="col">Name</th>
							<th scope="col">Users</th>
							<th scope="col">Servers</th>
							<th scope="col">Action</th>
						</tr>
					</thead>
					<tbody>
						<tr style="cursor: pointer">
							<td></td>
							<td></td>
							<td></td>
							<td><img src="edit.png" name="view" title="Edit"><img
								src="del.png" name="remove" title="Delete"></td>
						</tr>
					</tbody>
				</table>
				<form name="userGroup" id="userGroups.view" style="display: none" onsubmit="return sparkConfig.saveUserGroup();">
					<table class="hi5_dialog" style="width:100%">
						<tr>
							<td colspan="2"><input type="submit" value="Save"/></td>
						</tr>
						<tr>
							<td>Name</td>
							<td><input type="text" id="userGroup.name" name="name" size="36" required/></td>
						</tr>
						<tr>
							<td>Users</td>
							<td><input type="text" id="userGroup.user" name="users" size="36" required/></td>
						</tr>
						<tr>
							<td>Server Groups</td>
							<td><input type="text" id="userGroup.server" name="servers"/></td>
						</tr>
					</table>
				</form>
			</div>



		</div>
	</div>
</body>
</html>